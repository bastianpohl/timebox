import{o as c,c as B,t as m,a as S,r as u,w as T,b as M,d as v,e as f,u as C}from"./index-wvMcA-9b.js";const x={__name:"GenericButton",props:["title"],setup(a){const s=a;return(e,o)=>(c(),B("button",null,m(s.title),1))}},y={__name:"TimerButton",props:["title"],emits:["toggleButton"],setup(a,{emit:s}){const e=a,o=s,r=()=>{o("toggleButton")};return(i,l)=>(c(),S(x,{onClick:r,title:e.title},null,8,["title"]))}},V={__name:"ResetButton",emits:["resetTimer"],setup(a,{emit:s}){const e=u("Reset"),o=s,r=()=>{o("resetTimer")};return(i,l)=>(c(),S(x,{onClick:r,title:e.value},null,8,["title"]))}},n={running:{buttonText:"Start",state:!0},stopped:{buttonText:"Stop",state:!1}},$={class:"timer"},E={style:{"text-align":"center"}},I=300,j={__name:"TimerView",setup(a){let s=u(n.running.buttonText),e=u(I),o=u(n.stopped.state);const r=new Worker("./counter.js");r.onmessage=t=>{e.value=t.data};const i=()=>{r.postMessage({isRunning:n.stopped.state})},l=()=>{r.postMessage({isRunning:n.running.state})},h=()=>{_()?p(n.stopped.state):p(n.running.state)},_=()=>o.value,p=t=>{o.value=t},w=()=>{s.value=_()?n.stopped.buttonText:n.running.buttonText},R=()=>{p(n.stopped.state),r.postMessage({resetTimer:!0})};T(e,t=>{t===0&&i()}),T(o,t=>{w(),t?l():i()});const g=M(()=>{var t=Math.floor(e.value/60),d=e.value%60,b=t.toString().padStart(2,"0"),k=d.toString().padStart(2,"0");return{minutes:b,seconds:k}});return(t,d)=>(c(),B("div",null,[v("div",$,m(g.value.minutes)+" : "+m(g.value.seconds),1),v("div",E,[f(y,{onToggleButton:h,title:C(s)},null,8,["title"]),f(V,{onResetTimer:R})])]))}};export{j as default};
